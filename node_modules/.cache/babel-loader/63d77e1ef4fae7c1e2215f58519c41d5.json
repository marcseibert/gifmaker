{"ast":null,"code":"/*Copyrights for code authored by Yahoo Inc. is licensed under the following terms:\nMIT License\nCopyright  2017 Yahoo Inc.\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n!function (e, t, r, i) {\n  \"use strict\";\n\n  function n() {\n    return C.isValid();\n  }\n\n  function o() {\n    return C.isValid();\n  }\n\n  function a() {\n    var e = {\n      getUserMedia: !0\n    };\n    return C.isValid(e);\n  }\n\n  function s(e) {\n    var t = !1;\n\n    if (w.isArray(e) && e.length) {\n      if (w.each(e, function (e, r) {\n        w.isSupported.videoCodecs[r] && (t = !0);\n      }), !t) return !1;\n    } else if (w.isString(e) && e.length && !w.isSupported.videoCodecs[e]) return !1;\n\n    return C.isValid({\n      getUserMedia: !0\n    });\n  }\n\n  function d() {\n    function e(e, t, r) {\n      var i, n;\n\n      for (u = e, m = t, g = r, f = new Array(h), i = 0; h > i; i++) f[i] = new Array(4), n = f[i], n[0] = n[1] = n[2] = (i << k + 8) / h | 0, D[i] = F / h | 0, G[i] = 0;\n    }\n\n    function t() {\n      for (var e = [], t = new Array(h), r = 0; h > r; r++) t[f[r][3]] = r;\n\n      for (var i = 0, n = 0; h > n; n++) {\n        var o = t[n];\n        e[i++] = f[o][0], e[i++] = f[o][1], e[i++] = f[o][2];\n      }\n\n      return e;\n    }\n\n    function r() {\n      var e, t, r, i, n, o, a, s;\n\n      for (a = 0, s = 0, e = 0; h > e; e++) {\n        for (n = f[e], r = e, i = n[1], t = e + 1; h > t; t++) o = f[t], o[1] < i && (r = t, i = o[1]);\n\n        if (o = f[r], e != r && (t = o[0], o[0] = n[0], n[0] = t, t = o[1], o[1] = n[1], n[1] = t, t = o[2], o[2] = n[2], n[2] = t, t = o[3], o[3] = n[3], n[3] = t), i != a) {\n          for (P[a] = s + e >> 1, t = a + 1; i > t; t++) P[t] = e;\n\n          a = i, s = e;\n        }\n      }\n\n      for (P[a] = s + C >> 1, t = a + 1; 256 > t; t++) P[t] = C;\n    }\n\n    function i() {\n      var e, t, r, i, n, o, a, f, h, C, x, F, W, O;\n\n      for (y > m && (g = 1), l = 30 + (g - 1) / 3, F = u, W = 0, O = m, x = m / (3 * g), C = x / S | 0, f = V, o = T, a = o >> U, 1 >= a && (a = 0), e = 0; a > e; e++) N[e] = f * ((a * a - e * e) * z / (a * a));\n\n      for (h = y > m ? 3 : m % p !== 0 ? 3 * p : m % v !== 0 ? 3 * v : m % b !== 0 ? 3 * b : 3 * w, e = 0; x > e;) if (r = (255 & F[W + 0]) << k, i = (255 & F[W + 1]) << k, n = (255 & F[W + 2]) << k, t = c(r, i, n), d(f, t, r, i, n), 0 !== a && s(a, t, r, i, n), W += h, W >= O && (W -= m), e++, 0 === C && (C = 1), e % C === 0) for (f -= f / l, o -= o / I, a = o >> U, 1 >= a && (a = 0), t = 0; a > t; t++) N[t] = f * ((a * a - t * t) * z / (a * a));\n    }\n\n    function n(e, t, r) {\n      var i, n, o, a, s, d, c;\n\n      for (s = 1e3, c = -1, i = P[t], n = i - 1; h > i || n >= 0;) h > i && (d = f[i], o = d[1] - t, o >= s ? i = h : (i++, 0 > o && (o = -o), a = d[0] - e, 0 > a && (a = -a), o += a, s > o && (a = d[2] - r, 0 > a && (a = -a), o += a, s > o && (s = o, c = d[3])))), n >= 0 && (d = f[n], o = t - d[1], o >= s ? n = -1 : (n--, 0 > o && (o = -o), a = d[0] - e, 0 > a && (a = -a), o += a, s > o && (a = d[2] - r, 0 > a && (a = -a), o += a, s > o && (s = o, c = d[3]))));\n\n      return c;\n    }\n\n    function o() {\n      return i(), a(), r(), t();\n    }\n\n    function a() {\n      var e;\n\n      for (e = 0; h > e; e++) f[e][0] >>= k, f[e][1] >>= k, f[e][2] >>= k, f[e][3] = e;\n    }\n\n    function s(e, t, r, i, n) {\n      var o, a, s, d, c, l, u;\n\n      for (s = t - e, -1 > s && (s = -1), d = t + e, d > h && (d = h), o = t + 1, a = t - 1, l = 1; d > o || a > s;) {\n        if (c = N[l++], d > o) {\n          u = f[o++];\n\n          try {\n            u[0] -= c * (u[0] - r) / B | 0, u[1] -= c * (u[1] - i) / B | 0, u[2] -= c * (u[2] - n) / B | 0;\n          } catch (m) {}\n        }\n\n        if (a > s) {\n          u = f[a--];\n\n          try {\n            u[0] -= c * (u[0] - r) / B | 0, u[1] -= c * (u[1] - i) / B | 0, u[2] -= c * (u[2] - n) / B | 0;\n          } catch (m) {}\n        }\n      }\n    }\n\n    function d(e, t, r, i, n) {\n      var o = f[t],\n          a = e / V;\n      o[0] -= a * (o[0] - r) | 0, o[1] -= a * (o[1] - i) | 0, o[2] -= a * (o[2] - n) | 0;\n    }\n\n    function c(e, t, r) {\n      var i, n, o, a, s, d, c, l, u, m;\n\n      for (l = ~(1 << 31), u = l, d = -1, c = d, i = 0; h > i; i++) m = f[i], n = m[0] - e, 0 > n && (n = -n), o = m[1] - t, 0 > o && (o = -o), n += o, o = m[2] - r, 0 > o && (o = -o), n += o, l > n && (l = n, d = i), a = n - (G[i] >> x - k), u > a && (u = a, c = i), s = D[i] >> O, D[i] -= s, G[i] += s << W;\n\n      return D[d] += E, G[d] -= M, c;\n    }\n\n    var l,\n        u,\n        m,\n        g,\n        f,\n        h = 256,\n        p = 499,\n        v = 491,\n        b = 487,\n        w = 503,\n        y = 3 * w,\n        C = h - 1,\n        k = 4,\n        S = 100,\n        x = 16,\n        F = 1 << x,\n        W = 10,\n        O = 10,\n        E = F >> O,\n        M = F << W - O,\n        A = h >> 3,\n        U = 6,\n        R = 1 << U,\n        T = A * R,\n        I = 30,\n        j = 10,\n        V = 1 << j,\n        H = 8,\n        z = 1 << H,\n        L = j + H,\n        B = 1 << L,\n        P = [],\n        G = [],\n        D = [],\n        N = [];\n    e.apply(this, arguments);\n    var q = {};\n    return q.map = n, q.process = o, q;\n  }\n\n  function c() {\n    var e = this;\n\n    try {\n      e.onmessage = function (e) {\n        var t,\n            i = e.data || {};\n        i.gifshot && (t = r.run(i), postMessage(t));\n      };\n    } catch (t) {}\n\n    var r = {\n      dataToRGB: function (e, t, r) {\n        for (var i = t * r * 4, n = 0, o = []; i > n;) o.push(e[n++]), o.push(e[n++]), o.push(e[n++]), n++;\n\n        return o;\n      },\n      componentizedPaletteToArray: function (e) {\n        e = e || [];\n\n        for (var t = [], r = 0; r < e.length; r += 3) {\n          var i = e[r],\n              n = e[r + 1],\n              o = e[r + 2];\n          t.push(i << 16 | n << 8 | o);\n        }\n\n        return t;\n      },\n      processFrameWithQuantizer: function (e, t, r, i) {\n        for (var n = this.dataToRGB(e, t, r), o = new d(n, n.length, i), a = o.process(), s = new Uint32Array(this.componentizedPaletteToArray(a)), c = t * r, l = new Uint8Array(c), u = 0, m = 0; c > m; m++) {\n          var g = n[u++],\n              f = n[u++],\n              h = n[u++];\n          l[m] = o.map(g, f, h);\n        }\n\n        return {\n          pixels: l,\n          palette: s\n        };\n      },\n      run: function (e) {\n        e = e || {};\n        var t = e,\n            r = t.height,\n            i = (t.palette, t.sampleInterval),\n            n = t.width,\n            o = e.data;\n        return this.processFrameWithQuantizer(o, n, r, i);\n      }\n    };\n    return r;\n  }\n\n  function l(e, t, r, n) {\n    function o(e) {\n      var t = e.length;\n      if (2 > t || t > 256 || t & t - 1) throw \"Invalid code/color length, must be power of 2 and 2 .. 256.\";\n      return t;\n    }\n\n    function a(e, t, r, n) {\n      function o(r) {\n        for (; g >= r;) e[t++] = 255 & f, f >>= 8, g -= 8, t === s + 256 && (e[s] = 255, s = t++);\n      }\n\n      function a(e) {\n        f |= e << g, g += m, o(8);\n      }\n\n      e[t++] = r;\n      var s = t++,\n          d = 1 << r,\n          c = d - 1,\n          l = d + 1,\n          u = l + 1,\n          m = r + 1,\n          g = 0,\n          f = 0,\n          h = n[0] & c,\n          p = {};\n      a(d);\n\n      for (var v = 1, b = n.length; b > v; ++v) {\n        var w = n[v] & c,\n            y = h << 8 | w,\n            C = p[y];\n\n        if (C === i) {\n          for (f |= h << g, g += m; g >= 8;) e[t++] = 255 & f, f >>= 8, g -= 8, t === s + 256 && (e[s] = 255, s = t++);\n\n          4096 === u ? (a(d), u = l + 1, m = r + 1, p = {}) : (u >= 1 << m && ++m, p[y] = u++), h = w;\n        } else h = C;\n      }\n\n      return a(h), a(l), o(1), s + 1 === t ? e[s] = 0 : (e[s] = t - s - 1, e[t++] = 0), t;\n    }\n\n    var s = 0;\n    n = n === i ? {} : n;\n    var d = n.loop === i ? null : n.loop,\n        c = n.palette === i ? null : n.palette;\n    if (0 >= t || 0 >= r || t > 65535 || r > 65535) throw \"Width/Height invalid.\";\n    e[s++] = 71, e[s++] = 73, e[s++] = 70, e[s++] = 56, e[s++] = 57, e[s++] = 97;\n    var l = 0,\n        u = 0;\n\n    if (e[s++] = 255 & t, e[s++] = t >> 8 & 255, e[s++] = 255 & r, e[s++] = r >> 8 & 255, e[s++] = (null !== c ? 128 : 0) | l, e[s++] = u, e[s++] = 0, null !== d) {\n      if (0 > d || d > 65535) throw \"Loop count invalid.\";\n      e[s++] = 33, e[s++] = 255, e[s++] = 11, e[s++] = 78, e[s++] = 69, e[s++] = 84, e[s++] = 83, e[s++] = 67, e[s++] = 65, e[s++] = 80, e[s++] = 69, e[s++] = 50, e[s++] = 46, e[s++] = 48, e[s++] = 3, e[s++] = 1, e[s++] = 255 & d, e[s++] = d >> 8 & 255, e[s++] = 0;\n    }\n\n    var m = !1;\n    this.addFrame = function (t, r, n, d, l, u) {\n      if (m === !0 && (--s, m = !1), u = u === i ? {} : u, 0 > t || 0 > r || t > 65535 || r > 65535) throw \"x/y invalid.\";\n      if (0 >= n || 0 >= d || n > 65535 || d > 65535) throw \"Width/Height invalid.\";\n      if (l.length < n * d) throw \"Not enough pixels for the frame size.\";\n      var g = !0,\n          f = u.palette;\n      if ((f === i || null === f) && (g = !1, f = c), f === i || null === f) throw \"Must supply either a local or global palette.\";\n\n      for (var h = o(f), p = 0; h >>= 1;) ++p;\n\n      h = 1 << p;\n      var v = u.delay === i ? 0 : u.delay,\n          b = u.disposal === i ? 0 : u.disposal;\n      if (0 > b || b > 3) throw \"Disposal out of range.\";\n      var w = !1,\n          y = 0;\n      if (u.transparent !== i && null !== u.transparent && (w = !0, y = u.transparent, 0 > y || y >= h)) throw \"Transparent color index.\";\n      if ((0 !== b || w || 0 !== v) && (e[s++] = 33, e[s++] = 249, e[s++] = 4, e[s++] = b << 2 | (w === !0 ? 1 : 0), e[s++] = 255 & v, e[s++] = v >> 8 & 255, e[s++] = y, e[s++] = 0), e[s++] = 44, e[s++] = 255 & t, e[s++] = t >> 8 & 255, e[s++] = 255 & r, e[s++] = r >> 8 & 255, e[s++] = 255 & n, e[s++] = n >> 8 & 255, e[s++] = 255 & d, e[s++] = d >> 8 & 255, e[s++] = g === !0 ? 128 | p - 1 : 0, g === !0) for (var C = 0, k = f.length; k > C; ++C) {\n        var S = f[C];\n        e[s++] = S >> 16 & 255, e[s++] = S >> 8 & 255, e[s++] = 255 & S;\n      }\n      s = a(e, s, 2 > p ? 2 : p, l);\n    }, this.end = function () {\n      return m === !1 && (e[s++] = 59, m = !0), s;\n    };\n  }\n\n  function u(e, t) {\n    e.getBase64GIF(function (e) {\n      t({\n        error: !1,\n        errorCode: \"\",\n        errorMsg: \"\",\n        image: e\n      });\n    });\n  }\n\n  function m() {\n    function e() {\n      w.each(l, function (e, t) {\n        t && (t.text ? f.addFrame(t.img, a, t.text) : f.addFrame(t, a));\n      }), u(f, n);\n    }\n\n    var r = arguments.length > 0 && arguments[0] !== i ? arguments[0] : {},\n        n = r.callback,\n        o = r.images,\n        a = r.options,\n        s = r.imagesLength,\n        d = {\n      getUserMedia: !0,\n      \"window.URL\": !0\n    },\n        c = C.validate(d),\n        l = [],\n        m = 0,\n        g = void 0,\n        f = void 0;\n    return c.error ? n(c) : (f = new O(a), w.each(o, function (r, i) {\n      var o = i;\n      i.src && (o = o.src), w.isElement(o) ? (a.crossOrigin && (o.crossOrigin = a.crossOrigin), l[r] = o, m += 1, m === s && e()) : w.isString(o) && (g = new Image(), a.crossOrigin && (g.crossOrigin = a.crossOrigin), function (t) {\n        i.text && (t.text = i.text), t.onerror = function () {\n          var e = void 0;\n          return --s, 0 === s ? (e = {}, e.error = \"None of the requested images was capable of being retrieved\", n(e)) : void 0;\n        }, t.onload = function () {\n          l[r] = i.text ? {\n            img: t,\n            text: t.text\n          } : t, m += 1, m === s && e(), w.removeElement(t);\n        }, t.src = o;\n      }(g), w.setCSSAttr(g, {\n        position: \"fixed\",\n        opacity: \"0\"\n      }), t.body.appendChild(g));\n    }), void 0);\n  }\n\n  function g(e) {\n    e = w.isObject(e) ? e : {}, A.stopVideoStreaming(e);\n  }\n\n  function f(e, r) {\n    var i = e.options || {},\n        n = i.images,\n        o = i.video,\n        a = Number(i.gifWidth),\n        s = Number(i.gifHeight),\n        d = (Number(i.numFrames), e.cameraStream),\n        c = e.videoElement,\n        l = e.videoWidth,\n        u = e.videoHeight,\n        m = M.getCropDimensions({\n      videoWidth: l,\n      videoHeight: u,\n      gifHeight: s,\n      gifWidth: a\n    }),\n        f = r;\n    i.crop = m, i.videoElement = c, i.videoWidth = l, i.videoHeight = u, i.cameraStream = d, w.isElement(c) && (c.width = a + m.width, c.height = s + m.height, i.webcamVideoElement || (w.setCSSAttr(c, {\n      position: \"fixed\",\n      opacity: \"0\"\n    }), t.body.appendChild(c)), c.play(), M.getGIF(i, function (e) {\n      n && n.length || o && o.length || g(e), f(e);\n    }));\n  }\n\n  function h() {\n    var e = arguments.length > 0 && arguments[0] !== i ? arguments[0] : {},\n        t = e.callback,\n        r = e.existingVideo,\n        n = e.options,\n        o = {\n      getUserMedia: !0,\n      \"window.URL\": !0\n    },\n        a = C.validate(o),\n        s = void 0,\n        d = void 0;\n    if (a.error) return t(a);\n\n    if (w.isElement(r) && r.src) {\n      if (d = r.src, s = w.getExtension(d), !w.isSupported.videoCodecs[s]) return t(C.messages.videoCodecs);\n    } else w.isArray(r) && w.each(r, function (e, t) {\n      return s = t instanceof Blob ? t.type.substr(t.type.lastIndexOf(\"/\") + 1, t.length) : t.substr(t.lastIndexOf(\".\") + 1, t.length), w.isSupported.videoCodecs[s] ? (r = t, !1) : void 0;\n    });\n\n    A.startStreaming({\n      completed: function (e) {\n        e.options = n || {}, f(e, t);\n      },\n      existingVideo: r,\n      crossOrigin: n.crossOrigin,\n      options: n\n    });\n  }\n\n  function p() {\n    var e = arguments.length > 0 && arguments[0] !== i ? arguments[0] : {},\n        t = e.callback,\n        r = e.lastCameraStream,\n        n = e.options,\n        a = e.webcamVideoElement;\n    return o() ? n.savedRenderingContexts.length ? (M.getGIF(n, function (e) {\n      t(e);\n    }), void 0) : (A.startVideoStreaming(function () {\n      var e = arguments.length > 0 && arguments[0] !== i ? arguments[0] : {};\n      e.options = n || {}, f(e, t);\n    }, {\n      lastCameraStream: r,\n      callback: t,\n      webcamVideoElement: a,\n      crossOrigin: n.crossOrigin\n    }), void 0) : t(C.validate());\n  }\n\n  function v(e, t) {\n    if (t = w.isFunction(e) ? e : t, e = w.isObject(e) ? e : {}, w.isFunction(t)) {\n      var r = w.mergeOptions(x, e) || {},\n          i = e.cameraStream,\n          n = r.images,\n          o = n ? n.length : 0,\n          a = r.video,\n          s = r.webcamVideoElement;\n      r = w.mergeOptions(r, {\n        gifWidth: Math.floor(r.gifWidth),\n        gifHeight: Math.floor(r.gifHeight)\n      }), o ? m({\n        images: n,\n        imagesLength: o,\n        callback: t,\n        options: r\n      }) : a ? h({\n        existingVideo: a,\n        callback: t,\n        options: r\n      }) : p({\n        lastCameraStream: i,\n        callback: t,\n        webcamVideoElement: s,\n        options: r\n      });\n    }\n  }\n\n  function b(e, t) {\n    if (t = w.isFunction(e) ? e : t, e = w.isObject(e) ? e : {}, w.isFunction(t)) {\n      var r = w.mergeOptions(x, e),\n          i = w.mergeOptions(r, {\n        interval: .1,\n        numFrames: 1,\n        gifWidth: Math.floor(r.gifWidth),\n        gifHeight: Math.floor(r.gifHeight)\n      });\n      v(i, t);\n    }\n  }\n\n  var w = {\n    URL: e.URL || e.webkitURL || e.mozURL || e.msURL,\n    getUserMedia: function () {\n      var e = r.getUserMedia || r.webkitGetUserMedia || r.mozGetUserMedia || r.msGetUserMedia;\n      return e ? e.bind(r) : e;\n    }(),\n    requestAnimFrame: e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame,\n    requestTimeout: function (e, t) {\n      if (e = e || w.noop, t = t || 0, !w.requestAnimFrame) return setTimeout(e, t);\n\n      var r = new Date().getTime(),\n          i = new Object(),\n          n = w.requestAnimFrame,\n          o = function a() {\n        var o = new Date().getTime(),\n            s = o - r;\n        s >= t ? e.call() : i.value = n(a);\n      };\n\n      return i.value = n(o), i;\n    },\n    Blob: e.Blob || e.BlobBuilder || e.WebKitBlobBuilder || e.MozBlobBuilder || e.MSBlobBuilder,\n    btoa: function () {\n      var t = e.btoa || function (e) {\n        for (var t = \"\", r = 0, i = e.length, n = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", o = void 0, a = void 0, s = void 0, d = void 0, c = void 0, l = void 0, u = void 0; i > r;) o = e.charCodeAt(r++), a = e.charCodeAt(r++), s = e.charCodeAt(r++), d = o >> 2, c = (3 & o) << 4 | a >> 4, l = (15 & a) << 2 | s >> 6, u = 63 & s, isNaN(a) ? l = u = 64 : isNaN(s) && (u = 64), t = t + n.charAt(d) + n.charAt(c) + n.charAt(l) + n.charAt(u);\n\n        return t;\n      };\n\n      return t ? t.bind(e) : w.noop;\n    }(),\n    isObject: function (e) {\n      return e && \"[object Object]\" === Object.prototype.toString.call(e);\n    },\n    isEmptyObject: function (e) {\n      return w.isObject(e) && !Object.keys(e).length;\n    },\n    isArray: function (e) {\n      return e && Array.isArray(e);\n    },\n    isFunction: function (e) {\n      return e && \"function\" == typeof e;\n    },\n    isElement: function (e) {\n      return e && 1 === e.nodeType;\n    },\n    isString: function (e) {\n      return \"string\" == typeof e || \"[object String]\" === Object.prototype.toString.call(e);\n    },\n    isSupported: {\n      canvas: function () {\n        var e = t.createElement(\"canvas\");\n        return e && e.getContext && e.getContext(\"2d\");\n      },\n      webworkers: function () {\n        return e.Worker;\n      },\n      blob: function () {\n        return w.Blob;\n      },\n      Uint8Array: function () {\n        return e.Uint8Array;\n      },\n      Uint32Array: function () {\n        return e.Uint32Array;\n      },\n      videoCodecs: function () {\n        var e = t.createElement(\"video\"),\n            r = {\n          mp4: !1,\n          h264: !1,\n          ogv: !1,\n          ogg: !1,\n          webm: !1\n        };\n\n        try {\n          e && e.canPlayType && (r.mp4 = \"\" !== e.canPlayType('video/mp4; codecs=\"mp4v.20.8\"'), r.h264 = \"\" !== (e.canPlayType('video/mp4; codecs=\"avc1.42E01E\"') || e.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"')), r.ogv = \"\" !== e.canPlayType('video/ogg; codecs=\"theora\"'), r.ogg = \"\" !== e.canPlayType('video/ogg; codecs=\"theora\"'), r.webm = -1 !== e.canPlayType('video/webm; codecs=\"vp8, vorbis\"'));\n        } catch (i) {}\n\n        return r;\n      }()\n    },\n    noop: function () {},\n    each: function (e, t) {\n      var r = void 0,\n          i = void 0;\n      if (w.isArray(e)) for (r = -1, i = e.length; ++r < i && t(r, e[r]) !== !1;);else if (w.isObject(e)) for (r in e) if (e.hasOwnProperty(r) && t(r, e[r]) === !1) break;\n    },\n    mergeOptions: function (e, t) {\n      if (w.isObject(e) && w.isObject(t) && Object.keys) {\n        var r = {};\n        return w.each(e, function (t) {\n          r[t] = e[t];\n        }), w.each(t, function (i) {\n          var n = t[i];\n          r[i] = w.isObject(n) ? e[i] ? w.mergeOptions(e[i], n) : n : n;\n        }), r;\n      }\n    },\n    setCSSAttr: function (e, t, r) {\n      w.isElement(e) && (w.isString(t) && w.isString(r) ? e.style[t] = r : w.isObject(t) && w.each(t, function (t, r) {\n        e.style[t] = r;\n      }));\n    },\n    removeElement: function (e) {\n      w.isElement(e) && e.parentNode && e.parentNode.removeChild(e);\n    },\n    createWebWorker: function (e) {\n      if (!w.isString(e)) return {};\n\n      try {\n        var t = new w.Blob([e], {\n          type: \"text/javascript\"\n        }),\n            r = w.URL.createObjectURL(t),\n            i = new Worker(r);\n        return {\n          objectUrl: r,\n          worker: i\n        };\n      } catch (n) {\n        return \"\" + n;\n      }\n    },\n    getExtension: function (e) {\n      return e.substr(e.lastIndexOf(\".\") + 1, e.length);\n    },\n    getFontSize: function () {\n      var e = arguments.length > 0 && arguments[0] !== i ? arguments[0] : {};\n      if (!t.body || e.resizeFont === !1) return e.fontSize;\n      var r = e.text,\n          n = e.gifWidth,\n          o = parseInt(e.fontSize, 10),\n          a = parseInt(e.minFontSize, 10),\n          s = t.createElement(\"div\"),\n          d = t.createElement(\"span\");\n\n      for (s.setAttribute(\"width\", n), s.appendChild(d), d.innerHTML = r, d.style.fontSize = o + \"px\", d.style.textIndent = \"-9999px\", d.style.visibility = \"hidden\", t.body.appendChild(d); d.offsetWidth > n && o >= a;) d.style.fontSize = --o + \"px\";\n\n      return t.body.removeChild(d), o + \"px\";\n    },\n    webWorkerError: !1\n  },\n      y = Object.freeze({\n    \"default\": w\n  }),\n      C = {\n    validate: function (e) {\n      e = w.isObject(e) ? e : {};\n      var t = {};\n      return w.each(C.validators, function (r, i) {\n        var n = i.errorCode;\n        return e[n] || i.condition ? void 0 : (t = i, t.error = !0, !1);\n      }), delete t.condition, t;\n    },\n    isValid: function R(e) {\n      var t = C.validate(e),\n          R = t.error !== !0 ? !0 : !1;\n      return R;\n    },\n    validators: [{\n      condition: w.isFunction(w.getUserMedia),\n      errorCode: \"getUserMedia\",\n      errorMsg: \"The getUserMedia API is not supported in your browser\"\n    }, {\n      condition: w.isSupported.canvas(),\n      errorCode: \"canvas\",\n      errorMsg: \"Canvas elements are not supported in your browser\"\n    }, {\n      condition: w.isSupported.webworkers(),\n      errorCode: \"webworkers\",\n      errorMsg: \"The Web Workers API is not supported in your browser\"\n    }, {\n      condition: w.isFunction(w.URL),\n      errorCode: \"window.URL\",\n      errorMsg: \"The window.URL API is not supported in your browser\"\n    }, {\n      condition: w.isSupported.blob(),\n      errorCode: \"window.Blob\",\n      errorMsg: \"The window.Blob File API is not supported in your browser\"\n    }, {\n      condition: w.isSupported.Uint8Array(),\n      errorCode: \"window.Uint8Array\",\n      errorMsg: \"The window.Uint8Array function constructor is not supported in your browser\"\n    }, {\n      condition: w.isSupported.Uint32Array(),\n      errorCode: \"window.Uint32Array\",\n      errorMsg: \"The window.Uint32Array function constructor is not supported in your browser\"\n    }],\n    messages: {\n      videoCodecs: {\n        errorCode: \"videocodec\",\n        errorMsg: \"The video codec you are trying to use is not supported in your browser\"\n      }\n    }\n  },\n      k = Object.freeze({\n    \"default\": C\n  }),\n      S = function () {},\n      x = {\n    sampleInterval: 10,\n    numWorkers: 2,\n    filter: \"\",\n    gifWidth: 200,\n    gifHeight: 200,\n    interval: .1,\n    numFrames: 10,\n    frameDuration: 1,\n    keepCameraOn: !1,\n    images: [],\n    video: null,\n    webcamVideoElement: null,\n    cameraStream: null,\n    text: \"\",\n    fontWeight: \"normal\",\n    fontSize: \"16px\",\n    minFontSize: \"10px\",\n    resizeFont: !1,\n    fontFamily: \"sans-serif\",\n    fontColor: \"#ffffff\",\n    textAlign: \"center\",\n    textBaseline: \"bottom\",\n    textXCoordinate: null,\n    textYCoordinate: null,\n    progressCallback: S,\n    completeCallback: S,\n    saveRenderingContexts: !1,\n    savedRenderingContexts: [],\n    showFrameText: !0,\n    crossOrigin: \"Anonymous\",\n    waterMark: null,\n    waterMarkHeight: null,\n    waterMarkWidth: null,\n    waterMarkXCoordinate: 1,\n    waterMarkYCoordinate: 1\n  },\n      F = Object.freeze({\n    \"default\": x\n  }),\n      W = function () {},\n      O = function (e) {\n    this.canvas = null, this.ctx = null, this.repeat = 0, this.frames = [], this.numRenderedFrames = 0, this.onRenderCompleteCallback = W, this.onRenderProgressCallback = W, this.workers = [], this.availableWorkers = [], this.generatingGIF = !1, this.options = e, this.initializeWebWorkers(e);\n  };\n\n  O.prototype = {\n    workerMethods: c(),\n    initializeWebWorkers: function (e) {\n      var r = this,\n          i = d.toString() + \"(\" + c.toString() + \"());\",\n          n = void 0,\n          o = void 0,\n          a = void 0,\n          s = void 0,\n          l = -1,\n          u = \"\";\n\n      for (s = e.numWorkers; ++l < s;) n = w.createWebWorker(i), w.isObject(n) ? (o = n.objectUrl, a = n.worker, r.workers.push({\n        worker: a,\n        objectUrl: o\n      }), r.availableWorkers.push(a)) : (u = n, w.webWorkerError = !!n);\n\n      this.workerError = u, this.canvas = t.createElement(\"canvas\"), this.canvas.width = e.gifWidth, this.canvas.height = e.gifHeight, this.ctx = this.canvas.getContext(\"2d\"), this.frames = [];\n    },\n    getWorker: function () {\n      return this.availableWorkers.pop();\n    },\n    freeWorker: function (e) {\n      this.availableWorkers.push(e);\n    },\n    byteMap: function () {\n      for (var e = [], t = 0; 256 > t; t++) e[t] = String.fromCharCode(t);\n\n      return e;\n    }(),\n    bufferToString: function (e) {\n      for (var t = e.length, r = \"\", i = -1; ++i < t;) r += this.byteMap[e[i]];\n\n      return r;\n    },\n    onFrameFinished: function (e) {\n      var t = this,\n          r = t.frames,\n          i = t.options,\n          n = !!(i.images || []).length,\n          o = r.every(function (e) {\n        return !e.beingProcessed && e.done;\n      });\n      t.numRenderedFrames++, n && e(t.numRenderedFrames / r.length), t.onRenderProgressCallback(.75 * t.numRenderedFrames / r.length), o ? t.generatingGIF || t.generateGIF(r, t.onRenderCompleteCallback) : w.requestTimeout(function () {\n        t.processNextFrame();\n      }, 1);\n    },\n    processFrame: function (e) {\n      var t = this,\n          r = (this.options, this.options),\n          n = r.progressCallback,\n          o = r.sampleInterval,\n          a = this.frames,\n          s = void 0,\n          d = void 0,\n          c = function () {\n        var e = arguments.length > 0 && arguments[0] !== i ? arguments[0] : {},\n            r = e.data;\n        delete s.data, s.pixels = Array.prototype.slice.call(r.pixels), s.palette = Array.prototype.slice.call(r.palette), s.done = !0, s.beingProcessed = !1, t.freeWorker(d), t.onFrameFinished(n);\n      };\n\n      return s = a[e], s.beingProcessed || s.done ? (this.onFrameFinished(), void 0) : (s.sampleInterval = o, s.beingProcessed = !0, s.gifshot = !0, d = this.getWorker(), d ? (d.onmessage = c, d.postMessage(s)) : c({\n        data: t.workerMethods.run(s)\n      }), void 0);\n    },\n    startRendering: function (e) {\n      this.onRenderCompleteCallback = e;\n\n      for (var t = 0; t < this.options.numWorkers && t < this.frames.length; t++) this.processFrame(t);\n    },\n    processNextFrame: function () {\n      for (var e = -1, t = 0; t < this.frames.length; t++) {\n        var r = this.frames[t];\n\n        if (!r.done && !r.beingProcessed) {\n          e = t;\n          break;\n        }\n      }\n\n      e >= 0 && this.processFrame(e);\n    },\n    generateGIF: function (e, t) {\n      var r = [],\n          i = {\n        loop: this.repeat\n      },\n          n = this.options,\n          o = n.interval,\n          a = n.frameDuration,\n          s = n.images,\n          d = !!s.length,\n          c = n.gifHeight,\n          u = n.gifWidth,\n          m = new l(r, u, c, i),\n          g = this.onRenderProgressCallback,\n          f = d ? 100 * o : 0,\n          h = void 0,\n          p = void 0;\n      this.generatingGIF = !0, w.each(e, function (t, r) {\n        var i = r.palette;\n        g(.75 + .25 * r.position * 1 / e.length);\n\n        for (var n = 0; a > n; n++) m.addFrame(0, 0, u, c, r.pixels, {\n          palette: i,\n          delay: f\n        });\n      }), m.end(), g(1), this.frames = [], this.generatingGIF = !1, w.isFunction(t) && (h = this.bufferToString(r), p = \"data:image/gif;base64,\" + w.btoa(h), t(p));\n    },\n    setRepeat: function (e) {\n      this.repeat = e;\n    },\n    addFrame: function (e, t, r) {\n      t = w.isObject(t) ? t : {};\n      var i = this,\n          n = i.ctx,\n          o = i.options,\n          a = o.gifWidth,\n          s = o.gifHeight,\n          d = w.getFontSize(t),\n          c = t,\n          l = c.filter,\n          u = c.fontColor,\n          m = c.fontFamily,\n          g = c.fontWeight,\n          f = (c.gifHeight, c.gifWidth, c.text),\n          h = c.textAlign,\n          p = c.textBaseline,\n          v = c.waterMark,\n          b = c.waterMarkHeight,\n          y = c.waterMarkWidth,\n          C = c.waterMarkXCoordinate,\n          k = c.waterMarkYCoordinate,\n          S = t.textXCoordinate ? t.textXCoordinate : \"left\" === h ? 1 : \"right\" === h ? a : a / 2,\n          x = t.textYCoordinate ? t.textYCoordinate : \"top\" === p ? 1 : \"center\" === p ? s / 2 : s,\n          F = g + \" \" + d + \" \" + m,\n          W = r && t.showFrameText ? r : f,\n          O = void 0;\n\n      try {\n        n.filter = l, n.drawImage(e, 0, 0, a, s), W && (n.font = F, n.fillStyle = u, n.textAlign = h, n.textBaseline = p, n.fillText(W, S, x)), v && n.drawImage(v, C, k, y, b), O = n.getImageData(0, 0, a, s), i.addFrameImageData(O);\n      } catch (E) {\n        return \"\" + E;\n      }\n    },\n    addFrameImageData: function () {\n      var e = arguments.length > 0 && arguments[0] !== i ? arguments[0] : {},\n          t = this.frames,\n          r = e.data;\n      this.frames.push({\n        data: r,\n        width: e.width,\n        height: e.height,\n        palette: null,\n        dithering: null,\n        done: !1,\n        beingProcessed: !1,\n        position: t.length\n      });\n    },\n    onRenderProgress: function (e) {\n      this.onRenderProgressCallback = e;\n    },\n    isRendering: function () {\n      return this.generatingGIF;\n    },\n    getBase64GIF: function (e) {\n      var t = this,\n          r = function (r) {\n        t.destroyWorkers(), w.requestTimeout(function () {\n          e(r);\n        }, 0);\n      };\n\n      t.startRendering(r);\n    },\n    destroyWorkers: function () {\n      if (!this.workerError) {\n        var e = this.workers;\n        w.each(e, function (e, t) {\n          var r = t.worker,\n              i = t.objectUrl;\n          r.terminate(), w.URL.revokeObjectURL(i);\n        });\n      }\n    }\n  };\n\n  var E = function () {},\n      M = {\n    getGIF: function () {\n      var e = arguments.length > 0 && arguments[0] !== i ? arguments[0] : {},\n          r = arguments[1];\n      r = w.isFunction(r) ? r : E;\n\n      var n = t.createElement(\"canvas\"),\n          o = void 0,\n          a = e.images,\n          s = !!a.length,\n          d = e.cameraStream,\n          c = e.crop,\n          l = e.filter,\n          u = e.fontColor,\n          m = e.fontFamily,\n          g = e.fontWeight,\n          f = e.keepCameraOn,\n          h = (e.numWorkers, e.progressCallback),\n          p = e.saveRenderingContexts,\n          v = e.savedRenderingContexts,\n          b = e.text,\n          y = e.textAlign,\n          C = e.textBaseline,\n          k = e.videoElement,\n          S = e.videoHeight,\n          x = e.videoWidth,\n          F = e.webcamVideoElement,\n          W = e.waterMark,\n          M = e.waterMarkHeight,\n          A = e.waterMarkWidth,\n          U = e.waterMarkXCoordinate,\n          R = e.waterMarkYCoordinate,\n          T = Number(e.gifWidth),\n          I = Number(e.gifHeight),\n          j = Number(e.interval),\n          V = (Number(e.sampleInterval), s ? 0 : 1e3 * j),\n          H = [],\n          z = v.length ? v.length : e.numFrames,\n          L = z,\n          B = new O(e),\n          P = w.getFontSize(e),\n          G = e.textXCoordinate ? e.textXCoordinate : \"left\" === y ? 1 : \"right\" === y ? T : T / 2,\n          D = e.textYCoordinate ? e.textYCoordinate : \"top\" === C ? 1 : \"center\" === C ? I / 2 : I,\n          N = g + \" \" + P + \" \" + m,\n          q = c ? Math.floor(c.scaledWidth / 2) : 0,\n          X = c ? x - c.scaledWidth : 0,\n          Y = c ? Math.floor(c.scaledHeight / 2) : 0,\n          Q = c ? S - c.scaledHeight : 0,\n          _ = function K() {\n        function e() {\n          try {\n            X > x && (X = x), Q > S && (Q = S), 0 > q && (q = 0), 0 > Y && (Y = 0), o.filter = l, o.drawImage(k, q, Y, X, Q, 0, 0, T, I), t();\n          } catch (r) {\n            if (\"NS_ERROR_NOT_AVAILABLE\" !== r.name) throw r;\n            w.requestTimeout(e, 100);\n          }\n        }\n\n        function t() {\n          var e = void 0;\n          p && H.push(o.getImageData(0, 0, T, I)), W && o.drawImage(W, U, R, A, M), b && (o.font = N, o.fillStyle = u, o.textAlign = y, o.textBaseline = C, o.fillText(b, G, D)), e = o.getImageData(0, 0, T, I), B.addFrameImageData(e), L = i, h((z - L) / z), i > 0 && w.requestTimeout(K, V), L || B.getBase64GIF(function (e) {\n            r({\n              error: !1,\n              errorCode: \"\",\n              errorMsg: \"\",\n              image: e,\n              cameraStream: d,\n              videoElement: k,\n              webcamVideoElement: F,\n              savedRenderingContexts: H,\n              keepCameraOn: f\n            });\n          });\n        }\n\n        var i = L - 1;\n        v.length ? (o.putImageData(v[z - L], 0, 0), t()) : e();\n      };\n\n      z = z !== i ? z : 10, j = j !== i ? j : .1, n.width = T, n.height = I, o = n.getContext(\"2d\"), function J() {\n        return v.length || 0 !== k.currentTime ? (_(), void 0) : (w.requestTimeout(J, 100), void 0);\n      }();\n    },\n    getCropDimensions: function () {\n      var e = arguments.length > 0 && arguments[0] !== i ? arguments[0] : {},\n          t = e.videoWidth,\n          r = e.videoHeight,\n          n = e.gifWidth,\n          o = e.gifHeight,\n          a = {\n        width: 0,\n        height: 0,\n        scaledWidth: 0,\n        scaledHeight: 0\n      };\n      return t > r ? (a.width = Math.round(t * (o / r)) - n, a.scaledWidth = Math.round(a.width * (r / o))) : (a.height = Math.round(r * (n / t)) - o, a.scaledHeight = Math.round(a.height * (t / n))), a;\n    }\n  },\n      A = {\n    loadedData: !1,\n    defaultVideoDimensions: {\n      width: 640,\n      height: 480\n    },\n    findVideoSize: function T(e) {\n      T.attempts = T.attempts || 0;\n      var t = e.cameraStream,\n          r = e.completedCallback,\n          i = e.videoElement;\n      i && (i.videoWidth > 0 && i.videoHeight > 0 ? (i.removeEventListener(\"loadeddata\", A.findVideoSize), r({\n        videoElement: i,\n        cameraStream: t,\n        videoWidth: i.videoWidth,\n        videoHeight: i.videoHeight\n      })) : T.attempts < 10 ? (T.attempts += 1, w.requestTimeout(function () {\n        A.findVideoSize(e);\n      }, 400)) : r({\n        videoElement: i,\n        cameraStream: t,\n        videoWidth: A.defaultVideoDimensions.width,\n        videoHeight: A.defaultVideoDimensions.height\n      }));\n    },\n    onStreamingTimeout: function (e) {\n      w.isFunction(e) && e({\n        error: !0,\n        errorCode: \"getUserMedia\",\n        errorMsg: \"There was an issue with the getUserMedia API - Timed out while trying to start streaming\",\n        image: null,\n        cameraStream: {}\n      });\n    },\n    stream: function (e) {\n      var t = w.isArray(e.existingVideo) ? e.existingVideo[0] : e.existingVideo,\n          r = e.cameraStream,\n          i = e.completedCallback,\n          n = e.streamedCallback,\n          o = e.videoElement;\n\n      if (w.isFunction(n) && n(), t) {\n        if (w.isString(t)) o.src = t, o.innerHTML = '<source src=\"' + t + '\" type=\"video/' + w.getExtension(t) + '\" />';else if (t instanceof Blob) {\n          try {\n            o.src = w.URL.createObjectURL(t);\n          } catch (a) {}\n\n          o.innerHTML = '<source src=\"' + t + '\" type=\"' + t.type + '\" />';\n        }\n      } else if (o.mozSrcObject) o.mozSrcObject = r;else if (w.URL) try {\n        o.srcObject = r, o.src = w.URL.createObjectURL(r);\n      } catch (a) {\n        o.srcObject = r;\n      }\n\n      o.play(), w.requestTimeout(function s() {\n        s.count = s.count || 0, A.loadedData === !0 ? (A.findVideoSize({\n          videoElement: o,\n          cameraStream: r,\n          completedCallback: i\n        }), A.loadedData = !1) : (s.count += 1, s.count > 10 ? A.findVideoSize({\n          videoElement: o,\n          cameraStream: r,\n          completedCallback: i\n        }) : s());\n      }, 0);\n    },\n    startStreaming: function (e) {\n      var r = w.isFunction(e.error) ? e.error : w.noop,\n          i = w.isFunction(e.streamed) ? e.streamed : w.noop,\n          n = w.isFunction(e.completed) ? e.completed : w.noop,\n          o = e.crossOrigin,\n          a = e.existingVideo,\n          s = e.lastCameraStream,\n          d = e.options,\n          c = e.webcamVideoElement,\n          l = w.isElement(a) ? a : c ? c : t.createElement(\"video\");\n      o && (l.crossOrigin = d.crossOrigin), l.autoplay = !0, l.loop = !0, l.muted = !0, l.addEventListener(\"loadeddata\", function () {\n        A.loadedData = !0, d.offset && (l.currentTime = d.offset);\n      }), a ? A.stream({\n        videoElement: l,\n        existingVideo: a,\n        completedCallback: n\n      }) : s ? A.stream({\n        videoElement: l,\n        cameraStream: s,\n        streamedCallback: i,\n        completedCallback: n\n      }) : w.getUserMedia({\n        video: !0\n      }, function (e) {\n        A.stream({\n          videoElement: l,\n          cameraStream: e,\n          streamedCallback: i,\n          completedCallback: n\n        });\n      }, r);\n    },\n    startVideoStreaming: function (e) {\n      var t = arguments.length > 1 && arguments[1] !== i ? arguments[1] : {},\n          r = t.timeout !== i ? t.timeout : 0,\n          n = t.callback,\n          o = t.webcamVideoElement,\n          a = void 0;\n      r > 0 && (a = w.requestTimeout(function () {\n        A.onStreamingTimeout(n);\n      }, 1e4)), A.startStreaming({\n        error: function () {\n          n({\n            error: !0,\n            errorCode: \"getUserMedia\",\n            errorMsg: \"There was an issue with the getUserMedia API - the user probably denied permission\",\n            image: null,\n            cameraStream: {}\n          });\n        },\n        streamed: function () {\n          clearTimeout(a);\n        },\n        completed: function () {\n          var t = arguments.length > 0 && arguments[0] !== i ? arguments[0] : {},\n              r = t.cameraStream,\n              n = t.videoElement,\n              o = t.videoHeight,\n              a = t.videoWidth;\n          e({\n            cameraStream: r,\n            videoElement: n,\n            videoHeight: o,\n            videoWidth: a\n          });\n        },\n        lastCameraStream: t.lastCameraStream,\n        webcamVideoElement: o,\n        crossOrigin: t.crossOrigin,\n        options: t\n      });\n    },\n    stopVideoStreaming: function (e) {\n      e = w.isObject(e) ? e : {};\n      var t = e,\n          r = t.keepCameraOn,\n          i = t.videoElement,\n          n = t.webcamVideoElement,\n          o = e.cameraStream || {},\n          a = o.getTracks ? o.getTracks() || [] : [],\n          s = !!a.length,\n          d = a[0];\n      !r && s && w.isFunction(d.stop) && d.stop(), w.isElement(i) && !n && (i.pause(), w.isFunction(w.URL.revokeObjectURL) && !w.webWorkerError && i.src && w.URL.revokeObjectURL(i.src), w.removeElement(i));\n    }\n  },\n      U = {\n    utils: y,\n    error: k,\n    defaultOptions: F,\n    createGIF: v,\n    takeSnapShot: b,\n    stopVideoStreaming: g,\n    isSupported: n,\n    isWebCamGIFSupported: o,\n    isExistingVideoGIFSupported: s,\n    isExistingImagesGIFSupported: a,\n    VERSION: \"0.4.5\"\n  };\n\n  \"function\" == typeof define && define.amd ? define([], function () {\n    return U;\n  }) : \"undefined\" != typeof exports ? module.exports = U : e.gifshot = U;\n}(\"undefined\" != typeof window ? window : {}, \"undefined\" != typeof document ? document : {\n  createElement: function () {}\n}, \"undefined\" != typeof window ? window.navigator : {});","map":{"version":3,"sources":["/Users/marcseibert/Documents/Development/web/coding-challenge-react/gifmaker/src/lib/gifshot.js"],"names":["e","t","r","i","n","C","isValid","o","a","getUserMedia","s","w","isArray","length","each","isSupported","videoCodecs","isString","d","u","m","g","f","Array","h","k","D","F","G","P","x","W","O","y","l","S","V","T","U","N","z","p","v","b","c","I","B","E","M","A","R","j","H","L","apply","arguments","q","map","process","onmessage","data","gifshot","run","postMessage","dataToRGB","push","componentizedPaletteToArray","processFrameWithQuantizer","Uint32Array","Uint8Array","pixels","palette","height","sampleInterval","width","loop","addFrame","delay","disposal","transparent","end","getBase64GIF","error","errorCode","errorMsg","image","text","img","callback","images","options","imagesLength","validate","src","isElement","crossOrigin","Image","onerror","onload","removeElement","setCSSAttr","position","opacity","body","appendChild","isObject","stopVideoStreaming","video","Number","gifWidth","gifHeight","numFrames","cameraStream","videoElement","videoWidth","videoHeight","getCropDimensions","crop","webcamVideoElement","play","getGIF","existingVideo","getExtension","messages","Blob","type","substr","lastIndexOf","startStreaming","completed","lastCameraStream","savedRenderingContexts","startVideoStreaming","isFunction","mergeOptions","Math","floor","interval","URL","webkitURL","mozURL","msURL","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","bind","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","requestTimeout","noop","setTimeout","Date","getTime","Object","call","value","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","btoa","charCodeAt","isNaN","charAt","prototype","toString","isEmptyObject","keys","nodeType","canvas","createElement","getContext","webworkers","Worker","blob","mp4","h264","ogv","ogg","webm","canPlayType","hasOwnProperty","style","parentNode","removeChild","createWebWorker","createObjectURL","objectUrl","worker","getFontSize","resizeFont","fontSize","parseInt","minFontSize","setAttribute","innerHTML","textIndent","visibility","offsetWidth","webWorkerError","freeze","validators","condition","numWorkers","filter","frameDuration","keepCameraOn","fontWeight","fontFamily","fontColor","textAlign","textBaseline","textXCoordinate","textYCoordinate","progressCallback","completeCallback","saveRenderingContexts","showFrameText","waterMark","waterMarkHeight","waterMarkWidth","waterMarkXCoordinate","waterMarkYCoordinate","ctx","repeat","frames","numRenderedFrames","onRenderCompleteCallback","onRenderProgressCallback","workers","availableWorkers","generatingGIF","initializeWebWorkers","workerMethods","workerError","getWorker","pop","freeWorker","byteMap","String","fromCharCode","bufferToString","onFrameFinished","every","beingProcessed","done","generateGIF","processNextFrame","processFrame","slice","startRendering","setRepeat","drawImage","font","fillStyle","fillText","getImageData","addFrameImageData","dithering","onRenderProgress","isRendering","destroyWorkers","terminate","revokeObjectURL","scaledWidth","X","Y","scaledHeight","Q","_","K","name","putImageData","J","currentTime","round","loadedData","defaultVideoDimensions","findVideoSize","attempts","completedCallback","removeEventListener","onStreamingTimeout","stream","streamedCallback","mozSrcObject","srcObject","count","streamed","autoplay","muted","addEventListener","offset","timeout","clearTimeout","getTracks","stop","pause","utils","defaultOptions","createGIF","takeSnapShot","isWebCamGIFSupported","isExistingVideoGIFSupported","isExistingImagesGIFSupported","VERSION","define","amd","exports","module","window","document","navigator"],"mappings":"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","sourcesContent":["/*Copyrights for code authored by Yahoo Inc. is licensed under the following terms:\nMIT License\nCopyright  2017 Yahoo Inc.\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n!function(e,t,r,i){\"use strict\";function n(){return C.isValid()}function o(){return C.isValid()}function a(){var e={getUserMedia:!0};return C.isValid(e)}function s(e){var t=!1;if(w.isArray(e)&&e.length){if(w.each(e,function(e,r){w.isSupported.videoCodecs[r]&&(t=!0)}),!t)return!1}else if(w.isString(e)&&e.length&&!w.isSupported.videoCodecs[e])return!1;return C.isValid({getUserMedia:!0})}function d(){function e(e,t,r){var i,n;for(u=e,m=t,g=r,f=new Array(h),i=0;h>i;i++)f[i]=new Array(4),n=f[i],n[0]=n[1]=n[2]=(i<<k+8)/h|0,D[i]=F/h|0,G[i]=0}function t(){for(var e=[],t=new Array(h),r=0;h>r;r++)t[f[r][3]]=r;for(var i=0,n=0;h>n;n++){var o=t[n];e[i++]=f[o][0],e[i++]=f[o][1],e[i++]=f[o][2]}return e}function r(){var e,t,r,i,n,o,a,s;for(a=0,s=0,e=0;h>e;e++){for(n=f[e],r=e,i=n[1],t=e+1;h>t;t++)o=f[t],o[1]<i&&(r=t,i=o[1]);if(o=f[r],e!=r&&(t=o[0],o[0]=n[0],n[0]=t,t=o[1],o[1]=n[1],n[1]=t,t=o[2],o[2]=n[2],n[2]=t,t=o[3],o[3]=n[3],n[3]=t),i!=a){for(P[a]=s+e>>1,t=a+1;i>t;t++)P[t]=e;a=i,s=e}}for(P[a]=s+C>>1,t=a+1;256>t;t++)P[t]=C}function i(){var e,t,r,i,n,o,a,f,h,C,x,F,W,O;for(y>m&&(g=1),l=30+(g-1)/3,F=u,W=0,O=m,x=m/(3*g),C=x/S|0,f=V,o=T,a=o>>U,1>=a&&(a=0),e=0;a>e;e++)N[e]=f*((a*a-e*e)*z/(a*a));for(h=y>m?3:m%p!==0?3*p:m%v!==0?3*v:m%b!==0?3*b:3*w,e=0;x>e;)if(r=(255&F[W+0])<<k,i=(255&F[W+1])<<k,n=(255&F[W+2])<<k,t=c(r,i,n),d(f,t,r,i,n),0!==a&&s(a,t,r,i,n),W+=h,W>=O&&(W-=m),e++,0===C&&(C=1),e%C===0)for(f-=f/l,o-=o/I,a=o>>U,1>=a&&(a=0),t=0;a>t;t++)N[t]=f*((a*a-t*t)*z/(a*a))}function n(e,t,r){var i,n,o,a,s,d,c;for(s=1e3,c=-1,i=P[t],n=i-1;h>i||n>=0;)h>i&&(d=f[i],o=d[1]-t,o>=s?i=h:(i++,0>o&&(o=-o),a=d[0]-e,0>a&&(a=-a),o+=a,s>o&&(a=d[2]-r,0>a&&(a=-a),o+=a,s>o&&(s=o,c=d[3])))),n>=0&&(d=f[n],o=t-d[1],o>=s?n=-1:(n--,0>o&&(o=-o),a=d[0]-e,0>a&&(a=-a),o+=a,s>o&&(a=d[2]-r,0>a&&(a=-a),o+=a,s>o&&(s=o,c=d[3]))));return c}function o(){return i(),a(),r(),t()}function a(){var e;for(e=0;h>e;e++)f[e][0]>>=k,f[e][1]>>=k,f[e][2]>>=k,f[e][3]=e}function s(e,t,r,i,n){var o,a,s,d,c,l,u;for(s=t-e,-1>s&&(s=-1),d=t+e,d>h&&(d=h),o=t+1,a=t-1,l=1;d>o||a>s;){if(c=N[l++],d>o){u=f[o++];try{u[0]-=c*(u[0]-r)/B|0,u[1]-=c*(u[1]-i)/B|0,u[2]-=c*(u[2]-n)/B|0}catch(m){}}if(a>s){u=f[a--];try{u[0]-=c*(u[0]-r)/B|0,u[1]-=c*(u[1]-i)/B|0,u[2]-=c*(u[2]-n)/B|0}catch(m){}}}}function d(e,t,r,i,n){var o=f[t],a=e/V;o[0]-=a*(o[0]-r)|0,o[1]-=a*(o[1]-i)|0,o[2]-=a*(o[2]-n)|0}function c(e,t,r){var i,n,o,a,s,d,c,l,u,m;for(l=~(1<<31),u=l,d=-1,c=d,i=0;h>i;i++)m=f[i],n=m[0]-e,0>n&&(n=-n),o=m[1]-t,0>o&&(o=-o),n+=o,o=m[2]-r,0>o&&(o=-o),n+=o,l>n&&(l=n,d=i),a=n-(G[i]>>x-k),u>a&&(u=a,c=i),s=D[i]>>O,D[i]-=s,G[i]+=s<<W;return D[d]+=E,G[d]-=M,c}var l,u,m,g,f,h=256,p=499,v=491,b=487,w=503,y=3*w,C=h-1,k=4,S=100,x=16,F=1<<x,W=10,O=10,E=F>>O,M=F<<W-O,A=h>>3,U=6,R=1<<U,T=A*R,I=30,j=10,V=1<<j,H=8,z=1<<H,L=j+H,B=1<<L,P=[],G=[],D=[],N=[];e.apply(this,arguments);var q={};return q.map=n,q.process=o,q}function c(){var e=this;try{e.onmessage=function(e){var t,i=e.data||{};i.gifshot&&(t=r.run(i),postMessage(t))}}catch(t){}var r={dataToRGB:function(e,t,r){for(var i=t*r*4,n=0,o=[];i>n;)o.push(e[n++]),o.push(e[n++]),o.push(e[n++]),n++;return o},componentizedPaletteToArray:function(e){e=e||[];for(var t=[],r=0;r<e.length;r+=3){var i=e[r],n=e[r+1],o=e[r+2];t.push(i<<16|n<<8|o)}return t},processFrameWithQuantizer:function(e,t,r,i){for(var n=this.dataToRGB(e,t,r),o=new d(n,n.length,i),a=o.process(),s=new Uint32Array(this.componentizedPaletteToArray(a)),c=t*r,l=new Uint8Array(c),u=0,m=0;c>m;m++){var g=n[u++],f=n[u++],h=n[u++];l[m]=o.map(g,f,h)}return{pixels:l,palette:s}},run:function(e){e=e||{};var t=e,r=t.height,i=(t.palette,t.sampleInterval),n=t.width,o=e.data;return this.processFrameWithQuantizer(o,n,r,i)}};return r}function l(e,t,r,n){function o(e){var t=e.length;if(2>t||t>256||t&t-1)throw\"Invalid code/color length, must be power of 2 and 2 .. 256.\";return t}function a(e,t,r,n){function o(r){for(;g>=r;)e[t++]=255&f,f>>=8,g-=8,t===s+256&&(e[s]=255,s=t++)}function a(e){f|=e<<g,g+=m,o(8)}e[t++]=r;var s=t++,d=1<<r,c=d-1,l=d+1,u=l+1,m=r+1,g=0,f=0,h=n[0]&c,p={};a(d);for(var v=1,b=n.length;b>v;++v){var w=n[v]&c,y=h<<8|w,C=p[y];if(C===i){for(f|=h<<g,g+=m;g>=8;)e[t++]=255&f,f>>=8,g-=8,t===s+256&&(e[s]=255,s=t++);4096===u?(a(d),u=l+1,m=r+1,p={}):(u>=1<<m&&++m,p[y]=u++),h=w}else h=C}return a(h),a(l),o(1),s+1===t?e[s]=0:(e[s]=t-s-1,e[t++]=0),t}var s=0;n=n===i?{}:n;var d=n.loop===i?null:n.loop,c=n.palette===i?null:n.palette;if(0>=t||0>=r||t>65535||r>65535)throw\"Width/Height invalid.\";e[s++]=71,e[s++]=73,e[s++]=70,e[s++]=56,e[s++]=57,e[s++]=97;var l=0,u=0;if(e[s++]=255&t,e[s++]=t>>8&255,e[s++]=255&r,e[s++]=r>>8&255,e[s++]=(null!==c?128:0)|l,e[s++]=u,e[s++]=0,null!==d){if(0>d||d>65535)throw\"Loop count invalid.\";e[s++]=33,e[s++]=255,e[s++]=11,e[s++]=78,e[s++]=69,e[s++]=84,e[s++]=83,e[s++]=67,e[s++]=65,e[s++]=80,e[s++]=69,e[s++]=50,e[s++]=46,e[s++]=48,e[s++]=3,e[s++]=1,e[s++]=255&d,e[s++]=d>>8&255,e[s++]=0}var m=!1;this.addFrame=function(t,r,n,d,l,u){if(m===!0&&(--s,m=!1),u=u===i?{}:u,0>t||0>r||t>65535||r>65535)throw\"x/y invalid.\";if(0>=n||0>=d||n>65535||d>65535)throw\"Width/Height invalid.\";if(l.length<n*d)throw\"Not enough pixels for the frame size.\";var g=!0,f=u.palette;if((f===i||null===f)&&(g=!1,f=c),f===i||null===f)throw\"Must supply either a local or global palette.\";for(var h=o(f),p=0;h>>=1;)++p;h=1<<p;var v=u.delay===i?0:u.delay,b=u.disposal===i?0:u.disposal;if(0>b||b>3)throw\"Disposal out of range.\";var w=!1,y=0;if(u.transparent!==i&&null!==u.transparent&&(w=!0,y=u.transparent,0>y||y>=h))throw\"Transparent color index.\";if((0!==b||w||0!==v)&&(e[s++]=33,e[s++]=249,e[s++]=4,e[s++]=b<<2|(w===!0?1:0),e[s++]=255&v,e[s++]=v>>8&255,e[s++]=y,e[s++]=0),e[s++]=44,e[s++]=255&t,e[s++]=t>>8&255,e[s++]=255&r,e[s++]=r>>8&255,e[s++]=255&n,e[s++]=n>>8&255,e[s++]=255&d,e[s++]=d>>8&255,e[s++]=g===!0?128|p-1:0,g===!0)for(var C=0,k=f.length;k>C;++C){var S=f[C];e[s++]=S>>16&255,e[s++]=S>>8&255,e[s++]=255&S}s=a(e,s,2>p?2:p,l)},this.end=function(){return m===!1&&(e[s++]=59,m=!0),s}}function u(e,t){e.getBase64GIF(function(e){t({error:!1,errorCode:\"\",errorMsg:\"\",image:e})})}function m(){function e(){w.each(l,function(e,t){t&&(t.text?f.addFrame(t.img,a,t.text):f.addFrame(t,a))}),u(f,n)}var r=arguments.length>0&&arguments[0]!==i?arguments[0]:{},n=r.callback,o=r.images,a=r.options,s=r.imagesLength,d={getUserMedia:!0,\"window.URL\":!0},c=C.validate(d),l=[],m=0,g=void 0,f=void 0;return c.error?n(c):(f=new O(a),w.each(o,function(r,i){var o=i;i.src&&(o=o.src),w.isElement(o)?(a.crossOrigin&&(o.crossOrigin=a.crossOrigin),l[r]=o,m+=1,m===s&&e()):w.isString(o)&&(g=new Image,a.crossOrigin&&(g.crossOrigin=a.crossOrigin),function(t){i.text&&(t.text=i.text),t.onerror=function(){var e=void 0;return--s,0===s?(e={},e.error=\"None of the requested images was capable of being retrieved\",n(e)):void 0},t.onload=function(){l[r]=i.text?{img:t,text:t.text}:t,m+=1,m===s&&e(),w.removeElement(t)},t.src=o}(g),w.setCSSAttr(g,{position:\"fixed\",opacity:\"0\"}),t.body.appendChild(g))}),void 0)}function g(e){e=w.isObject(e)?e:{},A.stopVideoStreaming(e)}function f(e,r){var i=e.options||{},n=i.images,o=i.video,a=Number(i.gifWidth),s=Number(i.gifHeight),d=(Number(i.numFrames),e.cameraStream),c=e.videoElement,l=e.videoWidth,u=e.videoHeight,m=M.getCropDimensions({videoWidth:l,videoHeight:u,gifHeight:s,gifWidth:a}),f=r;i.crop=m,i.videoElement=c,i.videoWidth=l,i.videoHeight=u,i.cameraStream=d,w.isElement(c)&&(c.width=a+m.width,c.height=s+m.height,i.webcamVideoElement||(w.setCSSAttr(c,{position:\"fixed\",opacity:\"0\"}),t.body.appendChild(c)),c.play(),M.getGIF(i,function(e){n&&n.length||o&&o.length||g(e),f(e)}))}function h(){var e=arguments.length>0&&arguments[0]!==i?arguments[0]:{},t=e.callback,r=e.existingVideo,n=e.options,o={getUserMedia:!0,\"window.URL\":!0},a=C.validate(o),s=void 0,d=void 0;if(a.error)return t(a);if(w.isElement(r)&&r.src){if(d=r.src,s=w.getExtension(d),!w.isSupported.videoCodecs[s])return t(C.messages.videoCodecs)}else w.isArray(r)&&w.each(r,function(e,t){return s=t instanceof Blob?t.type.substr(t.type.lastIndexOf(\"/\")+1,t.length):t.substr(t.lastIndexOf(\".\")+1,t.length),w.isSupported.videoCodecs[s]?(r=t,!1):void 0});A.startStreaming({completed:function(e){e.options=n||{},f(e,t)},existingVideo:r,crossOrigin:n.crossOrigin,options:n})}function p(){var e=arguments.length>0&&arguments[0]!==i?arguments[0]:{},t=e.callback,r=e.lastCameraStream,n=e.options,a=e.webcamVideoElement;return o()?n.savedRenderingContexts.length?(M.getGIF(n,function(e){t(e)}),void 0):(A.startVideoStreaming(function(){var e=arguments.length>0&&arguments[0]!==i?arguments[0]:{};e.options=n||{},f(e,t)},{lastCameraStream:r,callback:t,webcamVideoElement:a,crossOrigin:n.crossOrigin}),void 0):t(C.validate())}function v(e,t){if(t=w.isFunction(e)?e:t,e=w.isObject(e)?e:{},w.isFunction(t)){var r=w.mergeOptions(x,e)||{},i=e.cameraStream,n=r.images,o=n?n.length:0,a=r.video,s=r.webcamVideoElement;r=w.mergeOptions(r,{gifWidth:Math.floor(r.gifWidth),gifHeight:Math.floor(r.gifHeight)}),o?m({images:n,imagesLength:o,callback:t,options:r}):a?h({existingVideo:a,callback:t,options:r}):p({lastCameraStream:i,callback:t,webcamVideoElement:s,options:r})}}function b(e,t){if(t=w.isFunction(e)?e:t,e=w.isObject(e)?e:{},w.isFunction(t)){var r=w.mergeOptions(x,e),i=w.mergeOptions(r,{interval:.1,numFrames:1,gifWidth:Math.floor(r.gifWidth),gifHeight:Math.floor(r.gifHeight)});v(i,t)}}var w={URL:e.URL||e.webkitURL||e.mozURL||e.msURL,getUserMedia:function(){var e=r.getUserMedia||r.webkitGetUserMedia||r.mozGetUserMedia||r.msGetUserMedia;return e?e.bind(r):e}(),requestAnimFrame:e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,requestTimeout:function(e,t){if(e=e||w.noop,t=t||0,!w.requestAnimFrame)return setTimeout(e,t);var r=(new Date).getTime(),i=new Object,n=w.requestAnimFrame,o=function a(){var o=(new Date).getTime(),s=o-r;s>=t?e.call():i.value=n(a)};return i.value=n(o),i},Blob:e.Blob||e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,btoa:function(){var t=e.btoa||function(e){for(var t=\"\",r=0,i=e.length,n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",o=void 0,a=void 0,s=void 0,d=void 0,c=void 0,l=void 0,u=void 0;i>r;)o=e.charCodeAt(r++),a=e.charCodeAt(r++),s=e.charCodeAt(r++),d=o>>2,c=(3&o)<<4|a>>4,l=(15&a)<<2|s>>6,u=63&s,isNaN(a)?l=u=64:isNaN(s)&&(u=64),t=t+n.charAt(d)+n.charAt(c)+n.charAt(l)+n.charAt(u);return t};return t?t.bind(e):w.noop}(),isObject:function(e){return e&&\"[object Object]\"===Object.prototype.toString.call(e)},isEmptyObject:function(e){return w.isObject(e)&&!Object.keys(e).length},isArray:function(e){return e&&Array.isArray(e)},isFunction:function(e){return e&&\"function\"==typeof e},isElement:function(e){return e&&1===e.nodeType},isString:function(e){return\"string\"==typeof e||\"[object String]\"===Object.prototype.toString.call(e)},isSupported:{canvas:function(){var e=t.createElement(\"canvas\");return e&&e.getContext&&e.getContext(\"2d\")},webworkers:function(){return e.Worker},blob:function(){return w.Blob},Uint8Array:function(){return e.Uint8Array},Uint32Array:function(){return e.Uint32Array},videoCodecs:function(){var e=t.createElement(\"video\"),r={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{e&&e.canPlayType&&(r.mp4=\"\"!==e.canPlayType('video/mp4; codecs=\"mp4v.20.8\"'),r.h264=\"\"!==(e.canPlayType('video/mp4; codecs=\"avc1.42E01E\"')||e.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"')),r.ogv=\"\"!==e.canPlayType('video/ogg; codecs=\"theora\"'),r.ogg=\"\"!==e.canPlayType('video/ogg; codecs=\"theora\"'),r.webm=-1!==e.canPlayType('video/webm; codecs=\"vp8, vorbis\"'))}catch(i){}return r}()},noop:function(){},each:function(e,t){var r=void 0,i=void 0;if(w.isArray(e))for(r=-1,i=e.length;++r<i&&t(r,e[r])!==!1;);else if(w.isObject(e))for(r in e)if(e.hasOwnProperty(r)&&t(r,e[r])===!1)break},mergeOptions:function(e,t){if(w.isObject(e)&&w.isObject(t)&&Object.keys){var r={};return w.each(e,function(t){r[t]=e[t]}),w.each(t,function(i){var n=t[i];r[i]=w.isObject(n)?e[i]?w.mergeOptions(e[i],n):n:n}),r}},setCSSAttr:function(e,t,r){w.isElement(e)&&(w.isString(t)&&w.isString(r)?e.style[t]=r:w.isObject(t)&&w.each(t,function(t,r){e.style[t]=r}))},removeElement:function(e){w.isElement(e)&&e.parentNode&&e.parentNode.removeChild(e)},createWebWorker:function(e){if(!w.isString(e))return{};try{var t=new w.Blob([e],{type:\"text/javascript\"}),r=w.URL.createObjectURL(t),i=new Worker(r);return{objectUrl:r,worker:i}}catch(n){return\"\"+n}},getExtension:function(e){return e.substr(e.lastIndexOf(\".\")+1,e.length)},getFontSize:function(){var e=arguments.length>0&&arguments[0]!==i?arguments[0]:{};if(!t.body||e.resizeFont===!1)return e.fontSize;var r=e.text,n=e.gifWidth,o=parseInt(e.fontSize,10),a=parseInt(e.minFontSize,10),s=t.createElement(\"div\"),d=t.createElement(\"span\");for(s.setAttribute(\"width\",n),s.appendChild(d),d.innerHTML=r,d.style.fontSize=o+\"px\",d.style.textIndent=\"-9999px\",d.style.visibility=\"hidden\",t.body.appendChild(d);d.offsetWidth>n&&o>=a;)d.style.fontSize=--o+\"px\";return t.body.removeChild(d),o+\"px\"},webWorkerError:!1},y=Object.freeze({\"default\":w}),C={validate:function(e){e=w.isObject(e)?e:{};var t={};return w.each(C.validators,function(r,i){var n=i.errorCode;return e[n]||i.condition?void 0:(t=i,t.error=!0,!1)}),delete t.condition,t},isValid:function R(e){var t=C.validate(e),R=t.error!==!0?!0:!1;return R},validators:[{condition:w.isFunction(w.getUserMedia),errorCode:\"getUserMedia\",errorMsg:\"The getUserMedia API is not supported in your browser\"},{condition:w.isSupported.canvas(),errorCode:\"canvas\",errorMsg:\"Canvas elements are not supported in your browser\"},{condition:w.isSupported.webworkers(),errorCode:\"webworkers\",errorMsg:\"The Web Workers API is not supported in your browser\"},{condition:w.isFunction(w.URL),errorCode:\"window.URL\",errorMsg:\"The window.URL API is not supported in your browser\"},{condition:w.isSupported.blob(),errorCode:\"window.Blob\",errorMsg:\"The window.Blob File API is not supported in your browser\"},{condition:w.isSupported.Uint8Array(),errorCode:\"window.Uint8Array\",errorMsg:\"The window.Uint8Array function constructor is not supported in your browser\"},{condition:w.isSupported.Uint32Array(),errorCode:\"window.Uint32Array\",errorMsg:\"The window.Uint32Array function constructor is not supported in your browser\"}],messages:{videoCodecs:{errorCode:\"videocodec\",errorMsg:\"The video codec you are trying to use is not supported in your browser\"}}},k=Object.freeze({\"default\":C}),S=function(){},x={sampleInterval:10,numWorkers:2,filter:\"\",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:\"\",fontWeight:\"normal\",fontSize:\"16px\",minFontSize:\"10px\",resizeFont:!1,fontFamily:\"sans-serif\",fontColor:\"#ffffff\",textAlign:\"center\",textBaseline:\"bottom\",textXCoordinate:null,textYCoordinate:null,progressCallback:S,completeCallback:S,saveRenderingContexts:!1,savedRenderingContexts:[],showFrameText:!0,crossOrigin:\"Anonymous\",waterMark:null,waterMarkHeight:null,waterMarkWidth:null,waterMarkXCoordinate:1,waterMarkYCoordinate:1},F=Object.freeze({\"default\":x}),W=function(){},O=function(e){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=W,this.onRenderProgressCallback=W,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=e,this.initializeWebWorkers(e)};O.prototype={workerMethods:c(),initializeWebWorkers:function(e){var r=this,i=d.toString()+\"(\"+c.toString()+\"());\",n=void 0,o=void 0,a=void 0,s=void 0,l=-1,u=\"\";for(s=e.numWorkers;++l<s;)n=w.createWebWorker(i),w.isObject(n)?(o=n.objectUrl,a=n.worker,r.workers.push({worker:a,objectUrl:o}),r.availableWorkers.push(a)):(u=n,w.webWorkerError=!!n);this.workerError=u,this.canvas=t.createElement(\"canvas\"),this.canvas.width=e.gifWidth,this.canvas.height=e.gifHeight,this.ctx=this.canvas.getContext(\"2d\"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(e){this.availableWorkers.push(e)},byteMap:function(){for(var e=[],t=0;256>t;t++)e[t]=String.fromCharCode(t);return e}(),bufferToString:function(e){for(var t=e.length,r=\"\",i=-1;++i<t;)r+=this.byteMap[e[i]];return r},onFrameFinished:function(e){var t=this,r=t.frames,i=t.options,n=!!(i.images||[]).length,o=r.every(function(e){return!e.beingProcessed&&e.done});t.numRenderedFrames++,n&&e(t.numRenderedFrames/r.length),t.onRenderProgressCallback(.75*t.numRenderedFrames/r.length),o?t.generatingGIF||t.generateGIF(r,t.onRenderCompleteCallback):w.requestTimeout(function(){t.processNextFrame()},1)},processFrame:function(e){var t=this,r=(this.options,this.options),n=r.progressCallback,o=r.sampleInterval,a=this.frames,s=void 0,d=void 0,c=function(){var e=arguments.length>0&&arguments[0]!==i?arguments[0]:{},r=e.data;delete s.data,s.pixels=Array.prototype.slice.call(r.pixels),s.palette=Array.prototype.slice.call(r.palette),s.done=!0,s.beingProcessed=!1,t.freeWorker(d),t.onFrameFinished(n)};return s=a[e],s.beingProcessed||s.done?(this.onFrameFinished(),void 0):(s.sampleInterval=o,s.beingProcessed=!0,s.gifshot=!0,d=this.getWorker(),d?(d.onmessage=c,d.postMessage(s)):c({data:t.workerMethods.run(s)}),void 0)},startRendering:function(e){this.onRenderCompleteCallback=e;for(var t=0;t<this.options.numWorkers&&t<this.frames.length;t++)this.processFrame(t)},processNextFrame:function(){for(var e=-1,t=0;t<this.frames.length;t++){var r=this.frames[t];if(!r.done&&!r.beingProcessed){e=t;break}}e>=0&&this.processFrame(e)},generateGIF:function(e,t){var r=[],i={loop:this.repeat},n=this.options,o=n.interval,a=n.frameDuration,s=n.images,d=!!s.length,c=n.gifHeight,u=n.gifWidth,m=new l(r,u,c,i),g=this.onRenderProgressCallback,f=d?100*o:0,h=void 0,p=void 0;this.generatingGIF=!0,w.each(e,function(t,r){var i=r.palette;g(.75+.25*r.position*1/e.length);for(var n=0;a>n;n++)m.addFrame(0,0,u,c,r.pixels,{palette:i,delay:f})}),m.end(),g(1),this.frames=[],this.generatingGIF=!1,w.isFunction(t)&&(h=this.bufferToString(r),p=\"data:image/gif;base64,\"+w.btoa(h),t(p))},setRepeat:function(e){this.repeat=e},addFrame:function(e,t,r){t=w.isObject(t)?t:{};var i=this,n=i.ctx,o=i.options,a=o.gifWidth,s=o.gifHeight,d=w.getFontSize(t),c=t,l=c.filter,u=c.fontColor,m=c.fontFamily,g=c.fontWeight,f=(c.gifHeight,c.gifWidth,c.text),h=c.textAlign,p=c.textBaseline,v=c.waterMark,b=c.waterMarkHeight,y=c.waterMarkWidth,C=c.waterMarkXCoordinate,k=c.waterMarkYCoordinate,S=t.textXCoordinate?t.textXCoordinate:\"left\"===h?1:\"right\"===h?a:a/2,x=t.textYCoordinate?t.textYCoordinate:\"top\"===p?1:\"center\"===p?s/2:s,F=g+\" \"+d+\" \"+m,W=r&&t.showFrameText?r:f,O=void 0;try{n.filter=l,n.drawImage(e,0,0,a,s),W&&(n.font=F,n.fillStyle=u,n.textAlign=h,n.textBaseline=p,n.fillText(W,S,x)),v&&n.drawImage(v,C,k,y,b),O=n.getImageData(0,0,a,s),i.addFrameImageData(O)}catch(E){return\"\"+E}},addFrameImageData:function(){var e=arguments.length>0&&arguments[0]!==i?arguments[0]:{},t=this.frames,r=e.data;this.frames.push({data:r,width:e.width,height:e.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:t.length})},onRenderProgress:function(e){this.onRenderProgressCallback=e},isRendering:function(){return this.generatingGIF},getBase64GIF:function(e){var t=this,r=function(r){t.destroyWorkers(),w.requestTimeout(function(){e(r)},0)};t.startRendering(r)},destroyWorkers:function(){if(!this.workerError){var e=this.workers;w.each(e,function(e,t){var r=t.worker,i=t.objectUrl;r.terminate(),w.URL.revokeObjectURL(i)})}}};var E=function(){},M={getGIF:function(){var e=arguments.length>0&&arguments[0]!==i?arguments[0]:{},r=arguments[1];r=w.isFunction(r)?r:E;var n=t.createElement(\"canvas\"),o=void 0,a=e.images,s=!!a.length,d=e.cameraStream,c=e.crop,l=e.filter,u=e.fontColor,m=e.fontFamily,g=e.fontWeight,f=e.keepCameraOn,h=(e.numWorkers,e.progressCallback),p=e.saveRenderingContexts,v=e.savedRenderingContexts,b=e.text,y=e.textAlign,C=e.textBaseline,k=e.videoElement,S=e.videoHeight,x=e.videoWidth,F=e.webcamVideoElement,W=e.waterMark,M=e.waterMarkHeight,A=e.waterMarkWidth,U=e.waterMarkXCoordinate,R=e.waterMarkYCoordinate,T=Number(e.gifWidth),I=Number(e.gifHeight),j=Number(e.interval),V=(Number(e.sampleInterval),s?0:1e3*j),H=[],z=v.length?v.length:e.numFrames,L=z,B=new O(e),P=w.getFontSize(e),G=e.textXCoordinate?e.textXCoordinate:\"left\"===y?1:\"right\"===y?T:T/2,D=e.textYCoordinate?e.textYCoordinate:\"top\"===C?1:\"center\"===C?I/2:I,N=g+\" \"+P+\" \"+m,q=c?Math.floor(c.scaledWidth/2):0,X=c?x-c.scaledWidth:0,Y=c?Math.floor(c.scaledHeight/2):0,Q=c?S-c.scaledHeight:0,_=function K(){function e(){try{X>x&&(X=x),Q>S&&(Q=S),0>q&&(q=0),0>Y&&(Y=0),o.filter=l,o.drawImage(k,q,Y,X,Q,0,0,T,I),t()}catch(r){if(\"NS_ERROR_NOT_AVAILABLE\"!==r.name)throw r;w.requestTimeout(e,100)}}function t(){var e=void 0;p&&H.push(o.getImageData(0,0,T,I)),W&&o.drawImage(W,U,R,A,M),b&&(o.font=N,o.fillStyle=u,o.textAlign=y,o.textBaseline=C,o.fillText(b,G,D)),e=o.getImageData(0,0,T,I),B.addFrameImageData(e),L=i,h((z-L)/z),i>0&&w.requestTimeout(K,V),L||B.getBase64GIF(function(e){r({error:!1,errorCode:\"\",errorMsg:\"\",image:e,cameraStream:d,videoElement:k,webcamVideoElement:F,savedRenderingContexts:H,keepCameraOn:f})})}var i=L-1;v.length?(o.putImageData(v[z-L],0,0),t()):e()};z=z!==i?z:10,j=j!==i?j:.1,n.width=T,n.height=I,o=n.getContext(\"2d\"),function J(){return v.length||0!==k.currentTime?(_(),void 0):(w.requestTimeout(J,100),void 0)}()},getCropDimensions:function(){var e=arguments.length>0&&arguments[0]!==i?arguments[0]:{},t=e.videoWidth,r=e.videoHeight,n=e.gifWidth,o=e.gifHeight,a={width:0,height:0,scaledWidth:0,scaledHeight:0};return t>r?(a.width=Math.round(t*(o/r))-n,a.scaledWidth=Math.round(a.width*(r/o))):(a.height=Math.round(r*(n/t))-o,a.scaledHeight=Math.round(a.height*(t/n))),a}},A={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function T(e){T.attempts=T.attempts||0;var t=e.cameraStream,r=e.completedCallback,i=e.videoElement;i&&(i.videoWidth>0&&i.videoHeight>0?(i.removeEventListener(\"loadeddata\",A.findVideoSize),r({videoElement:i,cameraStream:t,videoWidth:i.videoWidth,videoHeight:i.videoHeight})):T.attempts<10?(T.attempts+=1,w.requestTimeout(function(){A.findVideoSize(e)},400)):r({videoElement:i,cameraStream:t,videoWidth:A.defaultVideoDimensions.width,videoHeight:A.defaultVideoDimensions.height}))},onStreamingTimeout:function(e){w.isFunction(e)&&e({error:!0,errorCode:\"getUserMedia\",errorMsg:\"There was an issue with the getUserMedia API - Timed out while trying to start streaming\",image:null,cameraStream:{}})},stream:function(e){var t=w.isArray(e.existingVideo)?e.existingVideo[0]:e.existingVideo,r=e.cameraStream,i=e.completedCallback,n=e.streamedCallback,o=e.videoElement;if(w.isFunction(n)&&n(),t){if(w.isString(t))o.src=t,o.innerHTML='<source src=\"'+t+'\" type=\"video/'+w.getExtension(t)+'\" />';else if(t instanceof Blob){try{o.src=w.URL.createObjectURL(t)}catch(a){}o.innerHTML='<source src=\"'+t+'\" type=\"'+t.type+'\" />'}}else if(o.mozSrcObject)o.mozSrcObject=r;else if(w.URL)try{o.srcObject=r,o.src=w.URL.createObjectURL(r)}catch(a){o.srcObject=r}o.play(),w.requestTimeout(function s(){s.count=s.count||0,A.loadedData===!0?(A.findVideoSize({videoElement:o,cameraStream:r,completedCallback:i}),A.loadedData=!1):(s.count+=1,s.count>10?A.findVideoSize({videoElement:o,cameraStream:r,completedCallback:i}):s())},0)},startStreaming:function(e){var r=w.isFunction(e.error)?e.error:w.noop,i=w.isFunction(e.streamed)?e.streamed:w.noop,n=w.isFunction(e.completed)?e.completed:w.noop,o=e.crossOrigin,a=e.existingVideo,s=e.lastCameraStream,d=e.options,c=e.webcamVideoElement,l=w.isElement(a)?a:c?c:t.createElement(\"video\");o&&(l.crossOrigin=d.crossOrigin),l.autoplay=!0,l.loop=!0,l.muted=!0,l.addEventListener(\"loadeddata\",function(){A.loadedData=!0,d.offset&&(l.currentTime=d.offset)}),a?A.stream({videoElement:l,existingVideo:a,completedCallback:n}):s?A.stream({videoElement:l,cameraStream:s,streamedCallback:i,completedCallback:n}):w.getUserMedia({video:!0},function(e){A.stream({videoElement:l,cameraStream:e,streamedCallback:i,completedCallback:n})},r)},startVideoStreaming:function(e){var t=arguments.length>1&&arguments[1]!==i?arguments[1]:{},r=t.timeout!==i?t.timeout:0,n=t.callback,o=t.webcamVideoElement,a=void 0;r>0&&(a=w.requestTimeout(function(){A.onStreamingTimeout(n)},1e4)),A.startStreaming({error:function(){n({error:!0,errorCode:\"getUserMedia\",errorMsg:\"There was an issue with the getUserMedia API - the user probably denied permission\",image:null,cameraStream:{}})},streamed:function(){clearTimeout(a)},completed:function(){var t=arguments.length>0&&arguments[0]!==i?arguments[0]:{},r=t.cameraStream,n=t.videoElement,o=t.videoHeight,a=t.videoWidth;e({cameraStream:r,videoElement:n,videoHeight:o,videoWidth:a})},lastCameraStream:t.lastCameraStream,webcamVideoElement:o,crossOrigin:t.crossOrigin,options:t})},stopVideoStreaming:function(e){e=w.isObject(e)?e:{};var t=e,r=t.keepCameraOn,i=t.videoElement,n=t.webcamVideoElement,o=e.cameraStream||{},a=o.getTracks?o.getTracks()||[]:[],s=!!a.length,d=a[0];!r&&s&&w.isFunction(d.stop)&&d.stop(),w.isElement(i)&&!n&&(i.pause(),w.isFunction(w.URL.revokeObjectURL)&&!w.webWorkerError&&i.src&&w.URL.revokeObjectURL(i.src),w.removeElement(i))}},U={utils:y,error:k,defaultOptions:F,createGIF:v,takeSnapShot:b,stopVideoStreaming:g,isSupported:n,isWebCamGIFSupported:o,isExistingVideoGIFSupported:s,isExistingImagesGIFSupported:a,VERSION:\"0.4.5\"};\"function\"==typeof define&&define.amd?define([],function(){return U}):\"undefined\"!=typeof exports?module.exports=U:e.gifshot=U}(\"undefined\"!=typeof window?window:{},\"undefined\"!=typeof document?document:{createElement:function(){}},\"undefined\"!=typeof window?window.navigator:{});\n"]},"metadata":{},"sourceType":"module"}