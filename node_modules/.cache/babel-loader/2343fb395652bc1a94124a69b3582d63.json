{"ast":null,"code":"var _jsxFileName = \"/Users/marcseibert/Documents/Development/web/coding-challenge-react/gifmaker/src/components/PreviewWindow.js\";\nimport React from 'react';\nimport { Box, Grid, Button } from 'grommet';\nimport gifFrames from 'gif-frames';\nimport { connect } from 'react-redux';\nimport { object } from 'prop-types';\n\nvar gifshot = require('../lib/gifshot_.js/index.js');\n\nconst CreatePreviewGIF = timeline => {\n  var frames = [];\n\n  for (let i = 0; i < timeline.length; i++) {\n    let url = URL.createObjectURL(timeline[i].shot);\n    gifFrames({\n      url,\n      frames: 'all'\n    }).then(frameData => {\n      var newFrames = frameData.map(item => item.getImage());\n      frames = [...frames, ...newFrames];\n    });\n  } //gifShot.createGIF({}, function(obj){\n  //    if(!obj.error) {\n  //        console.log(\"No error\")\n  //    }\n  //})\n\n\n  let result;\n  console.log(frames);\n  return result; //gifshot.createGIF({}, function(obj) {\n  //})\n};\n\nexport const PreviewWindowComponent = ({\n  timeline\n}) => {\n  var gifURL = timeline.length > 0 ? URL.createObjectURL(timeline[0].shot) : \"\";\n\n  if (timeline.length > 0) {\n    let gif = CreatePreviewGIF(timeline);\n    gifURL = URL.createObjectURL(gif);\n  }\n\n  return React.createElement(Box, {\n    fill: true,\n    align: \"center\",\n    justify: \"center\",\n    gap: \"small\",\n    background: \"dark-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Box, {\n    width: \"medium\",\n    height: \"medium\",\n    background: \"dark-3\",\n    style: {\n      backgroundImage: \"url(\".concat(gifURL, \")\"),\n      backgroundSize: 'cover',\n      backgroundRepeat: 'no-repeat',\n      backgroundPosition: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(Box, {\n    round: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    fill: true,\n    areas: [{\n      name: \"back\",\n      start: [0, 0],\n      end: [0, 0]\n    }, {\n      name: \"play\",\n      start: [1, 0],\n      end: [1, 0]\n    }, {\n      name: \"toEnd\",\n      start: [2, 0],\n      end: [2, 0]\n    }],\n    columns: [\"flex\", \"flex\", \"flex\"],\n    rows: [\"flex\"],\n    gap: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Button, {\n    gridArea: \"back\",\n    label: \"|<\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(Button, {\n    gridArea: \"play\",\n    label: \">\",\n    primary: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(Button, {\n    gridArea: \"toEnd\",\n    label: \">|\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }))));\n};\n\nconst mapStateToProps = state => ({\n  timeline: state.timeline\n});\n\nconst mapDispatchToProps = dispathc => ({});\n\nexport const PreviewWindow = connect(mapStateToProps, mapDispatchToProps)(PreviewWindowComponent);","map":{"version":3,"sources":["/Users/marcseibert/Documents/Development/web/coding-challenge-react/gifmaker/src/components/PreviewWindow.js"],"names":["React","Box","Grid","Button","gifFrames","connect","object","gifshot","require","CreatePreviewGIF","timeline","frames","i","length","url","URL","createObjectURL","shot","then","frameData","newFrames","map","item","getImage","result","console","log","PreviewWindowComponent","gifURL","gif","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","name","start","end","mapStateToProps","state","mapDispatchToProps","dispathc","PreviewWindow"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Box, Grid, Button } from 'grommet'\nimport gifFrames from 'gif-frames'\nimport { connect } from 'react-redux'\nimport { object } from 'prop-types'\n\nvar gifshot = require('../lib/gifshot_.js/index.js')\n\nconst CreatePreviewGIF = (timeline) => {\n    var frames = []\n    for(let i = 0; i < timeline.length; i++) {\n        let url = URL.createObjectURL(timeline[i].shot)\n        gifFrames({url, frames: 'all'}).then((frameData) => {\n\n            var newFrames = frameData.map((item) => item.getImage())\n            frames = [...frames, ...newFrames]\n        })\n    }\n    //gifShot.createGIF({}, function(obj){\n    //    if(!obj.error) {\n    //        console.log(\"No error\")\n    //    }\n    //})\n    let result\n    console.log(frames)\n\n    return result\n\n    //gifshot.createGIF({}, function(obj) {\n    //})\n}\n\nexport const PreviewWindowComponent = ({timeline}) => {\n\n\n    var gifURL = timeline.length > 0 ? URL.createObjectURL(timeline[0].shot) : \"\"\n    if(timeline.length > 0) {\n        let gif = CreatePreviewGIF(timeline)\n        gifURL = URL.createObjectURL(gif)\n    }\n    return (\n        <Box\n            fill\n            align=\"center\"\n            justify=\"center\"\n            gap=\"small\"\n            background=\"dark-1\"\n        >\n            <Box\n                width=\"medium\"\n                height=\"medium\"\n                background=\"dark-3\"\n                style={{backgroundImage:`url(${gifURL})`, backgroundSize:'cover', backgroundRepeat: 'no-repeat', backgroundPosition: 'center'}}\n            >\n\n            </Box>\n            <Box\n                round\n            >\n                <Grid\n                    fill\n                    areas={\n                        [\n                            { name: \"back\", start: [0, 0], end: [0,0] },\n                            { name: \"play\", start: [1, 0], end: [1,0] },\n                            { name: \"toEnd\", start: [2, 0], end: [2,0] },\n                        ]\n                    }\n                    columns={[\"flex\", \"flex\", \"flex\"]}\n                    rows={[\"flex\"]}\n                    gap=\"small\"\n                >\n                    <Button gridArea=\"back\" label=\"|<\"/>\n                    <Button gridArea=\"play\" label=\">\" primary/>\n                    <Button gridArea=\"toEnd\" label=\">|\"/>\n\n                </Grid>\n            </Box>\n        </Box>\n    )\n}\n\nconst mapStateToProps = state => ({\n        timeline: state.timeline\n    })\n\nconst mapDispatchToProps = dispathc => ({\n\n    })\n\nexport const PreviewWindow = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(PreviewWindowComponent)"]},"metadata":{},"sourceType":"module"}