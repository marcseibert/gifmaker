{"ast":null,"code":"var _jsxFileName = \"/Users/marcseibert/Documents/Development/web/coding-challenge-react/gifmaker/src/components/PreviewWindow.js\";\nimport gifshot from '../lib/gifshot.js';\nimport React from 'react';\nimport { Box, Grid, Button } from 'grommet';\nimport gifFrames from 'gif-frames';\nimport { connect } from 'react-redux';\nimport { object } from 'prop-types';\nimport Action from '../store/actions';\n\nconst CreatePreviewGIF = (timeline, onUpdatePreview) => {\n  var frames = [];\n  onUpdatePreview(timeline[0].url);\n  return;\n\n  for (let i = 0; i < timeline.length; i++) {\n    let url = URL.createObjectURL(timeline[i].shot);\n    frames.push(url);\n    /*\n    gifFrames({url, frames: 'all', outputType: 'png'}, (err, frameData) => {\n        if(err) {\n            throw err\n        }\n        var newFrames = frameData.map((item) => item.getImage())\n        console.log(newFrames)\n        frames = newFrames\n         if(i == timeline.length - 1) {\n            console.log(frames)\n            var urls = frames.map((image) => URL.createObjectURL(image))\n            console.log(urls)\n         }\n    })*/\n  }\n};\n\nexport const PreviewWindowComponent = ({\n  preview,\n  timeline,\n  onUpdatePreview\n}) => {\n  gifURL = CreatePreviewGIF(timeline, onUpdatePreview);\n  return React.createElement(Box, {\n    fill: true,\n    align: \"center\",\n    justify: \"center\",\n    gap: \"small\",\n    background: \"dark-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(Box, {\n    width: \"medium\",\n    height: \"medium\",\n    background: \"dark-3\",\n    style: {\n      backgroundImage: \"url(\".concat(preview, \")\"),\n      backgroundSize: 'cover',\n      backgroundRepeat: 'no-repeat',\n      backgroundPosition: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(Box, {\n    round: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    fill: true,\n    areas: [{\n      name: \"back\",\n      start: [0, 0],\n      end: [0, 0]\n    }, {\n      name: \"play\",\n      start: [1, 0],\n      end: [1, 0]\n    }, {\n      name: \"toEnd\",\n      start: [2, 0],\n      end: [2, 0]\n    }],\n    columns: [\"flex\", \"flex\", \"flex\"],\n    rows: [\"flex\"],\n    gap: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Button, {\n    gridArea: \"back\",\n    label: \"|<\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(Button, {\n    gridArea: \"play\",\n    label: \">\",\n    primary: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(Button, {\n    gridArea: \"toEnd\",\n    label: \">|\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }))));\n};\n\nconst mapStateToProps = state => ({\n  timeline: state.timeline,\n  preview: state.project.preview\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdatePreview(file) {\n    dispatch(Action.updatePreview(file));\n  }\n\n});\n\nexport const PreviewWindow = connect(mapStateToProps, mapDispatchToProps)(PreviewWindowComponent);","map":{"version":3,"sources":["/Users/marcseibert/Documents/Development/web/coding-challenge-react/gifmaker/src/components/PreviewWindow.js"],"names":["gifshot","React","Box","Grid","Button","gifFrames","connect","object","Action","CreatePreviewGIF","timeline","onUpdatePreview","frames","url","i","length","URL","createObjectURL","shot","push","PreviewWindowComponent","preview","gifURL","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","name","start","end","mapStateToProps","state","project","mapDispatchToProps","dispatch","file","updatePreview","PreviewWindow"],"mappings":"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","sourcesContent":["import gifshot from '../lib/gifshot.js'\nimport React from 'react'\nimport { Box, Grid, Button } from 'grommet'\nimport gifFrames from 'gif-frames'\nimport { connect } from 'react-redux'\nimport { object } from 'prop-types'\nimport Action from '../store/actions'\n\nconst CreatePreviewGIF = (timeline, onUpdatePreview) => {\n    var frames = []\n\n    onUpdatePreview(timeline[0].url)\n    return\n    for(let i = 0; i < timeline.length; i++) {\n        let url = URL.createObjectURL(timeline[i].shot)\n        frames.push(url)\n        /*\n        gifFrames({url, frames: 'all', outputType: 'png'}, (err, frameData) => {\n            if(err) {\n                throw err\n            }\n            var newFrames = frameData.map((item) => item.getImage())\n            console.log(newFrames)\n            frames = newFrames\n\n            if(i == timeline.length - 1) {\n                console.log(frames)\n                var urls = frames.map((image) => URL.createObjectURL(image))\n                console.log(urls)\n\n            }\n        })*/\n    }\n}\n\nexport const PreviewWindowComponent = ({preview, timeline, onUpdatePreview}) => {\n\n\n    gifURL = CreatePreviewGIF(timeline, onUpdatePreview)\n    return (\n        <Box\n            fill\n            align=\"center\"\n            justify=\"center\"\n            gap=\"small\"\n            background=\"dark-1\"\n        >\n            <Box\n                width=\"medium\"\n                height=\"medium\"\n                background=\"dark-3\"\n                style={{backgroundImage:`url(${preview})`, backgroundSize:'cover', backgroundRepeat: 'no-repeat', backgroundPosition: 'center'}}\n            >\n\n            </Box>\n            <Box\n                round\n            >\n                <Grid\n                    fill\n                    areas={\n                        [\n                            { name: \"back\", start: [0, 0], end: [0,0] },\n                            { name: \"play\", start: [1, 0], end: [1,0] },\n                            { name: \"toEnd\", start: [2, 0], end: [2,0] },\n                        ]\n                    }\n                    columns={[\"flex\", \"flex\", \"flex\"]}\n                    rows={[\"flex\"]}\n                    gap=\"small\"\n                >\n                    <Button gridArea=\"back\" label=\"|<\"/>\n                    <Button gridArea=\"play\" label=\">\" primary/>\n                    <Button gridArea=\"toEnd\" label=\">|\"/>\n\n                </Grid>\n            </Box>\n        </Box>\n    )\n}\n\nconst mapStateToProps = state => ({\n        timeline: state.timeline,\n        preview: state.project.preview\n    })\n\nconst mapDispatchToProps = dispatch => ({\n        onUpdatePreview(file) {\n            dispatch(Action.updatePreview(file))\n        }\n    })\n\nexport const PreviewWindow = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(PreviewWindowComponent)"]},"metadata":{},"sourceType":"module"}