{"ast":null,"code":"'use strict';\n\nvar util = require('util');\n\nvar ChunkStream = require('./chunkstream');\n\nvar Filter = require('./filter-parse');\n\nvar FilterAsync = module.exports = function (bitmapInfo) {\n  ChunkStream.call(this);\n  var buffers = [];\n  var that = this;\n  this._filter = new Filter(bitmapInfo, {\n    read: this.read.bind(this),\n    write: function (buffer) {\n      buffers.push(buffer);\n    },\n    complete: function () {\n      that.emit('complete', Buffer.concat(buffers));\n    }\n  });\n\n  this._filter.start();\n};\n\nutil.inherits(FilterAsync, ChunkStream);","map":null,"metadata":{},"sourceType":"script"}